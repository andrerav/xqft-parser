digraph AST {
edge [color=black, dir=both, weight=1, fontcolor=black, fontname=Helvetica, arrowhead=none,arrowtail=none]
node [shape=plaintext]

// DAGifying nodes
project123->make123;
make123 [label="make(name:=[index, value], [1,2,3], [1,2,3])"];
make2 [label="make(name:=[value],2)"];
project123 [label="project([anumb = index, index = 1, value]; .."];

// Ordinary nodes
project1 [label="project(value=l.value, anumb; ..)"];
numberate1 [label="numberate(index, [r.value, index], [anumb]; .."];
hhjoin1 [label="hhjoin([l.anumb], [r.anumb], [l.value, r.value, anumb]; .., .."];
hhjoin2 [label="hhjoin([],[], [l.value, anumb]; .."];
project3 [label="project(index=1,value=gt(r.value, l.value), anumb; .."];
hhjoin3 [label="hhjoin([l.anumb], [r.anumb], [l.value, r.value, anumb]; .., .."];

select1 [label="select(xqBoolean(value); .."];
project5 [label="project(index=1,value=gt(r.value, l.value), anumb;"];
hhjoin4 [label=" hhjoin([l.anumb], [r.anumb], [l.value, r.value, anumb];"];

project1->numberate1;
  numberate1->hhjoin1;
    hhjoin1->hhjoin2;
      hhjoin2->project3;
            project3->hhjoin3;
               hhjoin3-> project123;
               hhjoin3->make2;
      hhjoin2->select1;
        select1->project5;
              project5->hhjoin4;
                hhjoin4->project123;
                hhjoin4->make2;
    hhjoin1->project123;
}