digraph AST {
edge [color=black, dir=both, weight=1, fontcolor=black, fontname=Helvetica, arrowhead=none,arrowtail=none]
node [shape=plaintext]

// DAGifying nodes
project123->make123;
make123 [label="make(1,2,3)"];
make2 [label="make(2)"];

// Ordinary nodes
project1 [label="project(value=l.value, anumb; ..)"];
numberate1 [label="numberate(index, [r.value, index], [anumb]; .."];
hhjoin1 [label="hhjoin([l.anumb], [r.anumb], [l.value, r.value, anumb]; .., .."];
hhjoin2 [label="hhjoin([],[], [l.value, anumb]; .."];
project2 [label="project(index=1, value=max, anumb; .."];
group1 [label="group((anumb), max(value); .."];
project3 [label="project(value=gt(r.value, l.value), anumb; .."];
hhjoin3 [label="hhjoin([l.anumb], [r.anumb], [l.value, r.value, anumb]; .., .."];

select1 [label="select(xqBoolean(value); .."];
project4 [label="project(index=1, value=max, anumb; .."];
group2 [label="group((anumb), max(value); .."];
project5 [label="project(value=gt(r.value, l.value), anumb;"];
hhjoin4 [label=" hhjoin([l.anumb], [r.anumb], [l.value, r.value, anumb];"];


project1->numberate1;
  numberate1->hhjoin1;
    hhjoin1->hhjoin2;
      hhjoin2->project2;
        project2->group1;
          group1->project3;
            project3->hhjoin3;
               hhjoin3-> project123;
               hhjoin3->make2;
      hhjoin2->select1;
        select1->project4;
          project4->group2;
            group2->project5;
              project5->hhjoin4;
                hhjoin4->project123;
                hhjoin4->make2;
    hhjoin1->project123;               
}