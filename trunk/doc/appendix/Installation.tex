\chapter{Installation instructions}
Note: visit the project website at http://code.google.com/p/xqft-parser/
for the latest updates and instructions.

\section{Project directory contents}
The project directory contains a multitude of files and folders. Here is a list
of the most important ones with a short explanation:
\begin{itemize}
  \item bin - contains the compiled binaries
  \item build.xml - ant build file (deprecated in favor of GNU Make)
  \item doc - documentation (this report)
  \item etc - contains the source grammar file, XQFT.g
  \item lib - necessary runtime dependencies
  \item Makefile - Makefile for GNU Make
  \item src - all source code, the generated parser/lexer is moved to this
  directory after generation
  \item test - contains files related to testing and debugging
  \item tmp - temporary files generated during parser generation
\end{itemize}

\section{Prerequisites}
A computer with a Unix-based operating system is recommended however not
required. Note that the makefiles provided are not immediately suitable for
win32-based operating systems.

\subsection{Software}
This software should be available for download from the internet if not already
installed on the system.

\begin{itemize}
  \item GNU Make
  \item Subversion
  \item Java JDK 1.5.0 or better
\end{itemize}

Optional software for generating AST graphs:
\begin{itemize}
  \item Graphviz
  \item GNU Sed
\end{itemize}

\section{Getting the source}
To download the source code using Subversion, execute the following in a
command line interface:

\verb!svn checkout https://xqft-parser.googlecode.com/svn/trunk/ xqft-parser!

To download the source code as a tarball, please visit the project website at
http://code.google.com/p/xqft-parser/.

\section{Compiling the source}
Move to the root directory of the source code, and enter the following command:
\verb!make!. This will generate a new parser/lexer pair, compile them together
with supporting classes, and generate a convenient \verb!ntnu-xqft.jar!-file.

\section{Running the coverage tests}
\begin{itemize}
\item Download the XQuery test suite archive from
http://www.w3.org/XML/Query/test-suite/. At the time of writing, the latest
release is version 1.0.2. 
\item Move to the \verb!test/! subdirectory, and create a new directory
\verb!XQueryTestSuite!
\item Unzip the contents of the test suite archive to this newly created folder
\item Move back to the project root, and execute the command 
\verb!make testsuite!. An optional test run with a debugging interface is
available by executing \verb!make testsuitegui!
\end{itemize}

A multitude of error messages and debug information will be output. At the end
of the test, the coverage is calculated and presented. If changes are made to
the grammar, it is necessary to execute something along the lines of 
\verb!make parser compile testsuite! to generate and compile a new parser/lexer
pair.