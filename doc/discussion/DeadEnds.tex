\section{Lessons Learned}
\label{sect:discussion:deadEnds}
During the course of this project some misconceptions of the ANTLR grammar specification semantics and the W3C XQuery specification semantics have lead to erroneous implementation of various aspects of the parser. These errors have later been corrected and some lessons have been learned.

There are a great deal of syntactic and semantic differences between ANTLR v3 and its earlier versions. Online resources for v3 are quite scarce -- at least compared to its predecessors --, and incited by a lack of such, we in many cases wrongfully assumed that old tutorials and guides found would still hold value. This initially lead to a lot of hunting for the source behind compiler errors and warnings, especially in the case of seperating terminal productions from the non-terminal ones. This and other problems were settled, however, when we got hold of the book with the fitting name of "the Definitive ANTLR Reference"\cite{definitiveAntlr}.

In the case of understanding the different types of predicates ANTLR provides, a lot of testing and inspection of the generated source code followed by reading about them in the book did the trick. This made us realize that allmost none of the dash operators could be rewritten with validating semantic predicates, as we first assumed. Only by getting to know the specification, getting an overview and understanding why it is expressed as it is, and not in a production for production fashion replace them with something that would fail or pass in the same cases as the original, did we solve such problems.
