\chapter{Discussion}
\label{chapter:discussion}

\textbf{\underline{\LARGE TODO:}} innledning

\begin{itemize}
  \item pathfinder way kommer ikke til \aa~dra nytte av den mer ekspressive
  mars-algebraen\ldots Men er ekspressiv bedre? Synes jeg s\aa~ noe i en av
  pathfinder artiklene hvor de sa at jo mer restriktiv, jo bedre \aa~
  optimisere\ldots snakke med thorbj\o rnsen om dette..
  \item samme ligger litt i det \aa~gj\o re om til Core\ldots man mister jo
  informasjon\ldots. Hvis den er p\aa~denne m\aa ten --> gj\o re det akkurat
  slik, en sp\o rring som skal gi tilsvarende svar er ikke sikkert at man kan
  skrive p\aa~den samme m\aa ten helt uten videre..
	\item step for step pathexpr er ikke effektivt\ldots SCHADE ulempe med rene
			uttrykk: /a/b/c = trengs ingen joins egentlig
	\item et step b\o r kanskje egentlig joines med konteksten sin f\o r predikatet
		sitt -> /a/b[c] ((a join a/b) join a/b/c) ikke (a join (a/b join /a/b/c)
	\item Hva med \$i = (1,2,3) \$i
\end{itemize}



\input{discussion/ManualTreeParser}
\input{discussion/NotSupported}

\section{Predicates}
\label{sect:discussion:predicates}
\begin{itemize}
  \item saxon sier //ITEM[1] er to items fordi jeg har to BOOKS ? skal det ikke
  v\ae re 1 uansett?
  \item for stepexprz: 

	\begin{itemize}
	  \item de kan ikke sl\aa s sammen allikevel
	  \item hva med nummerering av rader, slik at man alltid kan bruke den hvis
	  predikatet er et tall?
	  \item kan v\ae re un\o dvendig siden man har instans-index i scope forh\aa
	  pentligvis..
    \end{itemize}
  \item for filterExprz:
  	\begin{itemize}
	  \item de eksisterer her ogs\aa~ja\ldots
	  \item hvordan l\o se dette generelt?
	  \item her m\aa~vi virkelig tenke p\aa~det med index iallefall\ldots 
	  \item ('a','b','c')[2] er lov
	  \item /a/b/c[1] er egentlig nesten mer unntaket enn reglen? Vanlig med
	  //c[1] regner jeg med.. og da blir det annerledes med en gang.. SCHADe
    \end{itemize} 
\end{itemize}

\section{Type System}
\label{sect:discussion:typeSystem}
\begin{itemize}
  \item Hvordan f\aa~til noe typesystem?
  \item Mars st\o tter ikke forskjellige typer innenfor samme felt
  \item En sekvens er en sekvens i XQuery\ldots ikke en sekvens av booleans
  eller noder etc
  \item Et ekstra felt som sier type?
  \item Hva skjer med /a/b/c/text() vs /a/b/c ?
  \item hva skjer om man lager en <a> hei <b> jeje </b> </a> variabel? Dette
  m\aa~kunne representeres.
\end{itemize}

\section{Optimisations}
\label{sect:discussion:optimisations}
\begin{itemize}
  \item legg merke til bruk av Uk-skrivem\aa te (s vs z)
  \item enkeltverdier i sammenligning b\o r bli putta inn i selecten.. ikke lag
  eget sett og kryss
  \item enkeltverdier etterhverandre b\o r lages i en go, ikke \texttt{union}es
  sammen
\end{itemize}